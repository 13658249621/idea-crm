
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <link type="text/css" href="bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link type="text/css" href="bootstrap/css/bootstrap-table.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="themes/gray/easyui.css">
    <link rel="stylesheet" type="text/css" href="themes/icon.css">
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="../../assets/css/ie10-viewport-bug-workaround.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="offcanvas.css" rel="stylesheet">
    <title>编辑车位信息</title>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="js/easyui-lang-zh_CN.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script type="text/javascript" src="bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/bootstrap-table.js";></script>
    <script type="text/javascript" src="bootstrap/js/bootstrap-table-zh-CN.min.js"></script>
    <script type="text/javascript" src="js/Util.js"></script>
    <![endif]-->
</head>

<body style=" background: url(https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1582826068275&di=ceda3df1e2da2b76833288340f0d9981&imgtype=0&src=http%3A%2F%2Fimg.1ppt.com%2Fuploads%2Fallimg%2F1511%2F1_151125155652_1.jpg) no-repeat center ; background-size: cover;">
<nav class="navbar navbar-fixed-top navbar-inverse">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar"
                    aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">物业管理系统</a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
            <ul class="nav navbar-nav">
                <li class="active"><a href="home.html">主页</a></li>
                <li><a href="#about">关于我们</a></li>
                <li><a href="#contact">联系我们</a></li>
                <li><a href="index.html">退出登录</a></li>
            </ul>
        </div><!-- /.nav-collapse -->
    </div><!-- /.container -->
</nav><!-- /.navbar -->

<div class="container">

    <div class="row row-offcanvas row-offcanvas-right">

        <div class="col-xs-12 col-sm-9" style="margin-top: 90px">
            <p class="pull-right visible-xs">
                <button type="button" class="btn btn-primary btn-xs" data-toggle="offcanvas">Toggle nav</button>
            </p>
            <!-- <div style="margin-top: 90px">
                 <input type="date" id="date"/>
                 <button id="getdate" onclick="getdate()"> 获取时间</button>
             </div>    日期选择器-->

            <div>
                <span style="color: #3c3c3c;font-size: larger" class="help-block">注意核对车位编号和业主用户名称是否正确！</span>
                <form action="#" class="form-horizontal"> <!--等价于div.container-->
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="parkingplace" class="control-label">车位编号</label></div>
                        <div class="col-sm-4"><input type="text" class="form-control" id="parkingplace" placeholder="车位编号" disabled>
                        </div>
                    </div>

                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="state" class="control-label">状态</label></div>
                        <div class="col-sm-4">
                            <select id="state" class="form-control">
                                <option>已售</option>
                                <option>待售</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="price" class="control-label">价格</label></div>
                        <div class="col-sm-4"><input type="text" class="form-control" id="price" placeholder="价格">
                        </div>
                    </div>
                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2"><label for="uname" class="control-label">所属业主用户名</label></div>
                        <div class="col-sm-4"><input type="text" class="form-control" id="uname" placeholder="所属业主用户名">
                        </div>
                    </div>


                    <div class="form-group"><!--div.row-->
                        <div class="col-sm-2">
                            <button type="button" class="btn btn-success" data-toggle="modal"
                                    data-target="#submitwindow"
                                    data-whatever="@mdo">保存更改
                            </button>
                        </div>
                        <div class="col-sm-2">
                            <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#exampleModal"
                                    data-whatever="@mdo">取消
                            </button>
                        </div>
                    </div>
                </form>

            </div>


        </div><!--/.col-xs-12.col-sm-9-->

        <div class="col-xs-6 col-sm-2 sidebar-offcanvas" id="sidebar">
            <div class="list-group" style="margin-top: 60px">
                <a href="#"  disabled="true" class="list-group-item active" style="background-color: #3c3c3c">快速导航</a>
                <a href="fix.html" class="list-group-item"><p>我要报修</p></a>
                <a href="parking.html" class="list-group-item"><p>查询车位</p></a>
                <a href="pay.html" class="list-group-item"><p>缴费信息</p></a>
                <a href="suggestion.html" class="list-group-item"><p>投诉和建议</p></a>
                <a href="notice.html" class="list-group-item"><p>查看社区公告</p></a>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;">
                    <option disabled selected hidden>业主管理</option>
                    <option value="ManageProprietor.html">查询业主信息</option>
                    <option value="EditProprietor.html">管理业主信息</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageHouse">
                    <option disabled selected hidden>楼栋管理</option>
                    <option value="ManageHouse.html">查询楼栋房屋信息</option>
                    <option value="EditHouse.html">管理楼栋房屋信息</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageFix">
                    <option disabled selected hidden>报修管理</option>
                    <option value="ManageFix.html">查询报修</option>
                    <option value="EditFix.html">管理报修(删除，编辑)</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageParking">
                    <option disabled selected hidden>车位管理</option>
                    <option value="ManageParking.html">查询车位</option>
                     <option value="AddParking.html">添加车位</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManagePay">
                    <option disabled selected hidden>缴费管理</option>
                    <option value="ManagePay.html">查询缴费</option>
                    <option value="AddPay.html">发布缴费项目</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageSugg">
                    <option disabled selected hidden>投诉和建议管理</option>
                    <option value="ManageSugg.html">查询投诉和建议</option>
                    <option value="EditSugg.html">删除投诉和建议</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageNotice">
                    <option disabled selected hidden>社区公告管理</option>
                    <option value="ManageNotice.html">查询社区公告</option>
                    <option value="EditNotice.html">发布社区公告</option>
                </select>
                <select class="list-group-item" style="width: 100%;font-size: 14px;color: dimgray" name="here "
                        onchange="location.href=this.options[this.selectedIndex].value;" id="ManageUser">
                    <option disabled selected hidden>用户管理</option>
                    <option value="ManageUser.html">查询用户</option>
                    <option value="EditUser.html">添加用户</option>
                </select>
            </div>
        </div><!--/.sidebar-offcanvas-->
    </div><!--/row-->

    <hr>

    <footer>
        <p>&copy;权限归属 物业管理公司</p>
    </footer>

</div><!--/.container-->


<!--点击取消弹出确认框内容r-->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="exampleModalLabel">提示</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label class="control-label">确认退出当前页面吗？退出后当前页面不会保存您已经编辑的内容。</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="fanhuitest" type="button" class="btn btn-default" data-dismiss="modal">
                    返回
                </button>
                <button id="querentest" type="button" class="btn btn-primary" data-dismiss="modal" onclick="history.back()">
                    确认
                </button>
            </div>
        </div>
    </div>
</div>

<!--点击提交弹出确认框-->

<div class="modal fade" id="submitwindow" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                        aria-hidden="true">×</span></button>
                <h4 class="modal-title" id="submitwindowlLabel">提示</h4>
            </div>
            <div class="modal-body">
                <form>
                    <div class="form-group">
                        <label class="control-label">是否确认保存更改！</label>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button id="quitsubmit" type="button" class="btn btn-default" data-dismiss="modal">
                    返回
                </button>
                <button id="suresubmit" type="button" class="btn btn-primary" data-dismiss="modal" onclick="EditParking()">
                    确认
                </button>
            </div>
        </div>
    </div>
</div>


</body>
<script type="text/javascript">

    function EditParking() {
        {
            var uname=document.getElementById("uname").value;
            var parkingplace = document.getElementById("parkingplace").value;
            var state = document.getElementById("state").value;
            var price = document.getElementById("price").value;
            $.ajax({
                url: "EditFix",
                type: "post",
                data: {
                    "uname":uname,
                    "parkingplace": parkingplace,
                    "state": state,
                    "price":price
                },
                dataType: "json",
                success: function (data) {
                    if (data.successcode == "200") {
                        console.log("addFix Success");
                        history.back();
                    } else {
                        console.log("addfix failed")
                    }
                }
            });
        }
    }; //提交修改报修信息

    function GetParkingPlaceStash() {
        var parkingplacestash=sessionStorage.getItem("ParkingPlaceStash");
        var pricestash=sessionStorage.getItem("ParkingPriceStash");
        var unamestash=sessionStorage.getItem("ParkingUnameStash");
        var statestash=sessionStorage.getItem("ParkingStateStash");
        console.log("开始执行GetParlinPlaceStash")
        document.getElementById("parkingplace").setAttribute("value",parkingplacestash.toString());
        document.getElementById("price").setAttribute("value",pricestash.toString());
        document.getElementById("uname").setAttribute("value",unamestash.toString());
        document.getElementById("state").setAttribute("value",statestash.toString());
        console.log("获取到的ParkingPlaceStash是:"+parkingplacestash);
    };//获取sessionstorage中的parkingplace
    window.onload=GetParkingPlaceStash();
    window.onload=checksessoin();
    window.onload=CheckPower;
</script>
</html>
